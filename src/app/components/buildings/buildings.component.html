<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" >

<div *ngIf="isAuthenticated && isAdmin">
  <h1>Lista degli edifici dell'utente n.{{userId}} </h1>
  <br><br>
  <mat-list dense>
    <mat-list-item>
      <mat-nav-list class="list-horizontal-header">
        <a mat-list-item >ID</a>
        <a mat-list-item >NAME</a>
        <a mat-list-item >CITY</a>
        <a mat-list-item >ADDRESS</a>
        <a mat-list-item >STREET NUMBER</a>
        <a mat-list-item ></a>
      </mat-nav-list>
    </mat-list-item>
    <mat-list-item *ngFor="let building of buildings$">
      <mat-nav-list class="list-horizontal">
        <a mat-list-item >{{building.id}}</a>
        <a mat-list-item >{{building.name}}</a>
        <a mat-list-item >{{building.city}}</a>
        <a mat-list-item >{{building.address}}</a>
        <a mat-list-item >{{building.street_number}}</a>
        <a mat-list-item (click)="onDeleteBuildingClick(building.id, userId)"><i class="material-icons">delete</i></a>
      </mat-nav-list>
    </mat-list-item>
  </mat-list>

  <a (click)="open(content)">
<!--    routerLinkActive="active-link"-->
<!--    routerLink="/signup"-->

    <button
      color="accent"
      mat-raised-button
    >
      <span>+ Aggiungi edificio </span>
    </button>
  </a>

</div>

<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">New Building</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="addBuildingForm" (ngSubmit)="addBuilding(userId)">
      <div class="form-group">
        <label>Name</label>
        <div class="input-group">
          <input id="name" class="form-control" formControlName="name" >
        </div>
        <br>
        <label>City</label>
        <div class="input-group">
          <input id="city" class="form-control" formControlName="city">
        </div>
        <br>
        <label>Address</label>
        <div class="input-group">
          <input id="address" class="form-control" formControlName="address">
        </div>
        <br>
        <label>Street Number</label>
        <div class="input-group">
          <input id="street_number" class="form-control" formControlName="street_number">
        </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-outline-dark" (click)="modal.close('Save click')">Save</button>
      </div>
    </form>
  </div>

</ng-template>

<!--<button class="btn btn-lg btn-outline-primary" (click)="open(content)">Launch demo modal</button>-->

<hr>

<pre>{{ closeResult }}</pre>
